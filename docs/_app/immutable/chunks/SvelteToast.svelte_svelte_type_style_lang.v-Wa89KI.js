import{d as S,t as I}from"./index.0rcEoRoG.js";import{r as O}from"./scheduler.DBam0p1X.js";import{w as T}from"./index.BqcYsGVD.js";function F(s){return s?.length!==void 0?s:Array.from(s)}function q(s,u){I(s,1,1,()=>{u.delete(s.key)})}function G(s,u){s.f(),q(s,u)}function H(s,u,d,_,h,p,l,g,w,t,i,r){let e=s.length,a=p.length,o=e;const x={};for(;o--;)x[s[o].key]=o;const m=[],b=new Map,k=new Map,M=[];for(o=a;o--;){const n=r(h,p,o),f=d(n);let c=l.get(f);c?_&&M.push(()=>c.p(n,u)):(c=t(f,n),c.c()),b.set(f,m[o]=c),f in x&&k.set(f,Math.abs(o-x[f]))}const j=new Set,A=new Set;function v(n){S(n,1),n.m(g,i),l.set(n.key,n),i=n.first,a--}for(;e&&a;){const n=m[a-1],f=s[e-1],c=n.key,y=f.key;n===f?(i=n.first,e--,a--):b.has(y)?!l.has(c)||j.has(c)?v(n):A.has(y)?e--:k.get(c)>k.get(y)?(A.add(c),v(n)):(j.add(y),e--):(w(f,l),e--)}for(;e--;){const n=s[e];b.has(n.key)||w(n,l)}for(;a;)v(m[a-1]);return O(M),m}const z={duration:4e3,initial:1,next:0,pausable:!1,dismissable:!0,reversed:!1,intro:{x:256}};function B(){const{subscribe:s,update:u}=T(new Array),d={};let _=0;function h(t){return t instanceof Object}function p(t="default",i={}){return d[t]=i,d}function l(t,i){const r={target:"default",...h(t)?t:{...i,msg:t}},e=d[r.target]||{},a={...z,...e,...r,theme:{...e.theme,...r.theme},classes:[...e.classes||[],...r.classes||[]],id:++_};return u(o=>a.reversed?[...o,a]:[a,...o]),_}function g(t){u(i=>{if(!i.length||t===0)return[];if(typeof t=="function")return i.filter(e=>t(e));if(h(t))return i.filter(e=>e.target!==t.target);const r=t||Math.max(...i.map(e=>e.id));return i.filter(e=>e.id!==r)})}function w(t,i){const r=h(t)?t:{...i,id:t};u(e=>{const a=e.findIndex(o=>o.id===r.id);return a>-1&&(e[a]={...e[a],...r}),e})}return{subscribe:s,push:l,pop:g,set:w,_init:p}}const J=B();export{F as e,G as f,J as t,H as u};
